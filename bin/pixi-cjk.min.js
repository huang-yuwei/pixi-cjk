/*!
 * pixi-cjk - v0.2.0
 * Compiled Tue, 23 Feb 2021 13:17:52 UTC
 *
 * pixi-cjk is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("pixi.js")):"function"==typeof define&&define.amd?define(["pixi.js"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).PIXI)}(this,(function(e){"use strict";if(void 0===e)throw"PixiJS is required";const t=new RegExp(`${/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/.source}|${/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/.source}|${/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/.source}|${/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/.source}`),n=new RegExp(`${/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/.source}|${/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/.source}|${/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/.source}|${/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/.source}`),i=(i,r)=>!e.TextMetrics.isBreakingSpace(r)&&!(!i||!n.exec(r)&&!t.exec(i)),r=e=>{const t=[...e],n=t[t.length-2],i=n[n.length-1];return t[t.length-2]=n.slice(0,-1),t[t.length-1]=(i||"")+t[t.length-1],t},s=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,o=e=>!e||!s.test(e),c=t=>{const n=[...t],i=n[n.length-2],r=l(i);if(-1===r||!i)return n;const s=i.slice(r,r+1),o=r+1,c=r+(e.TextMetrics.isBreakingSpace(s)?0:1);return n[n.length-1]+=i.slice(o,i.length),n[n.length-2]=i.slice(0,c),n},u=(e,t)=>e.split("").reduce(((e,n)=>{if(!t[n])throw Error("cannot count the word without cache");return e+t[n]}),0),l=e=>{for(let t=e.length-1;t>=0;t--)if(!s.test(e[t]))return t;return-1};e.TextMetrics.wordWrap=function(t,{wordWrapWidth:n,letterSpacing:s},l){const f=(l||e.TextMetrics._canvas).getContext("2d"),h=n+s;let g=[],a=0,d=0;const p={},x=e=>this.getFromCache(e,s,p,f);for(let e=0;e<t.length;e++){const n=t[e],s=t[e-1],l=t[e+1],f=x(n);if(this.isNewline(n))a++,d=0,g[a]="";else{if(d+f>h){if(a++,d=0,g[a]="",this.isBreakingSpace(n))continue;o(n)||(g=c(g),d=u(g[a]||"",p)),i(n,l)&&(g=r(g),d+=x(s||""))}d+=f,g[a]=(g[a]||"")+n}}return g.join("\n")}}));
//# sourceMappingURL=pixi-cjk.min.js.map
